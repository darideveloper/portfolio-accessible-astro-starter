---
// Components
import CallToAction from './CallToAction.astro'
import Logo from './Logo.astro'
import { Heading, Link } from 'accessible-astro-components'

// Data
import { phoneClean } from '../lib/constants/contact'

/**
 * Footer Component
 *
 * @description A component that displays the footer of the website
 */
const currentYear = new Date().getFullYear()

// Helper function to create WhatsApp links with context
const createWhatsAppLink = (message: string) => {
  const phone = phoneClean.replace('+52', '521')
  const encodedMessage = encodeURIComponent(message)
  return `https://api.whatsapp.com/send?phone=${phone}&text=${encodedMessage}`
}
---

<footer>
  <CallToAction />
  <section class='py-20'>
    <Heading
      level='h2'
      class='sr-only'
      >Footer</Heading
    >
    <div class='container grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4'>
      <div class='flex flex-col gap-4'>
        <Heading
          level='h3'
          size='h6'
          >Servicios Principales</Heading
        >
        <ul class='flex flex-col gap-2'>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Desarrollo Web a medida')}
              target='_blank'
              >Desarrollo Web a medida</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre E-commerce y Tiendas')}
              target='_blank'
              >E-commerce y Tiendas</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Dashboards de Control')}
              target='_blank'
              >Dashboards de Control</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Apps Móviles')}
              target='_blank'
              >Apps Móviles</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Automatización de Procesos')}
              target='_blank'
              >Automatización de Procesos</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Consultoría Tecnológica')}
              target='_blank'
              >Consultoría Tecnológica</Link
            >
          </li>
        </ul>
      </div>
      <div class='flex flex-col gap-4'>
        <Heading
          level='h3'
          size='h6'
          >Estrategia y SEO</Heading
        >
        <ul class='flex flex-col gap-2'>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa solicitar una Auditoría SEO Gratuita')}
              target='_blank'
              >Auditoría SEO Gratuita</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Posicionamiento en Google')}
              target='_blank'
              >Posicionamiento en Google</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Optimización de Velocidad')}
              target='_blank'
              >Optimización de Velocidad</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Copywriting Persuasivo')}
              target='_blank'
              >Copywriting Persuasivo</Link
            >
          </li>
          <li>
            <Link
              href={createWhatsAppLink('Hola, me interesa conocer más sobre Estrategia de Contenidos')}
              target='_blank'
              >Estrategia de Contenidos</Link
            >
          </li>
        </ul>
      </div>
      <div class='flex flex-col gap-4'>
        <Heading
          level='h3'
          size='h6'
          >Recursos y Legal</Heading
        >
        <ul class='flex flex-col gap-2'>
          <li>
            <Link href='/#faq'>Preguntas Frecuentes</Link>
          </li>
          <li>
            <Link href='/#team'>Sobre el Equipo 3S</Link>
          </li>
          <li>
            <Link href='/politica-privacidad'>Política de Privacidad</Link>
          </li>
          <li>
            <Link href='/aviso-legal'>Aviso Legal</Link>
          </li>
          <li>
            <Link href='/configuracion-cookies'>Configuración de Cookies</Link>
          </li>
        </ul>
      </div>
      <div class='flex flex-col gap-4'>
        <Logo loading='lazy' />
        <p class='text-xs leading-[1.75]'>
          Smooth Tip: El software más potente no es el más complejo, sino el que <i>mejor se adapta</i> a tu flujo de trabajo
          diario. La IA es el motor, pero <strong>tu visión</strong> es el mapa.
        </p>
      </div>
    </div>
  </section>
  <section class='py-8'>
    <div class='container flex flex-col gap-4 md:flex-row md:justify-between'>
      <p>
        &copy; {currentYear} - Smooth Software Solutions. Hecho con ❤️ por el equipo de 3S.
      </p>
    </div>
  </section>
</footer>

<style>
  section {
    border-top: 1px solid var(--border-color-subtle);
  }
</style>
