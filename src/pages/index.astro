---
// Components
import DefaultLayout from '@layouts/DefaultLayout.astro'
import Hero from '@components/Hero.astro'
import Feature from '@components/Feature.astro'
import Counter from '@components/Counter.astro'
import ContentMedia from '@components/ContentMedia.astro'
import FeaturedProjects from '@components/FeaturedProjects.astro'
import FeaturedPosts from '@components/FeaturedPosts.astro'
import { Accordion, AccordionItem, Avatar, AvatarGroup, Heading, Link } from 'accessible-astro-components'
import { Icon } from 'astro-icon/components'

// Data
import { whatsappLink } from '../lib/constants/contact'

// Animations identifiers
const animationsClasses = {
  hero: {
    smooth: 'hero-text-animate-smooth',
    software: 'hero-text-animate-software',
    image: 'hero-image-animate-hero',
  },
  contentMedia: {
    image1: 'content-media-animate-image-1',
    image2: 'content-media-animate-image-2',
  },
}
---

<DefaultLayout title='Home'>
  <!-- Hero -->
  <Hero animationsClasses={animationsClasses.hero} />

  <!-- Counters -->
  <section class='mt-64 mb-32'>
    <div class='container'>
      <Heading
        level='h2'
        class=''
      >
        Resultados que hablan por nosotros
      </Heading>
      <p class='mt-4 mb-16 text-2xl'>
        En 3S, convertimos la complejidad técnica en <strong>éxito tangible</strong>. Nuestra trayectoria
        <i>no es casualidad</i>, es el resultado de combinar <strong>experiencia real</strong> con soluciones de software
        que realmente funcionan y escalan.
      </p>
      <div class='grid grid-cols-1 gap-12 sm:grid-cols-2 md:grid-cols-4'>
        <Counter
          count='5+'
          title='Años'
          sub='de experiencia'
        />
        <Counter
          count='120+'
          title='Proyectos'
          sub='completados'
        />
        <Counter
          count='70+'
          title='Clientes'
          sub='satisfechos'
        />
        <Counter
          count='97%'
          title='Porcentaje'
          sub='de satisfacción'
        />
      </div>
    </div>
  </section>

  <!-- banners -->
  <ContentMedia
    imgSrc='/desarrollo-dashboards-ecommerce-medida-smooth-software.svg'
    class={animationsClasses.contentMedia.image1}
  >
    <Heading level='h2'>Software que fluye con el ritmo de tu negocio</Heading>
    <p class='text-2xl'>
      Diseñamos <strong>dashboards</strong>, <strong>web apps personalizadas</strong> y <strong>e-commerce</strong> de alto
      rendimiento. Transformamos procesos complejos en herramientas sencillas que ~~eliminan la fricción~~ y te permiten escalar
      sin límites técnicos.
    </p>
  </ContentMedia>
  <ContentMedia
    imgSrc='/automatizacion-procesos-ia-apps-estrategia.svg'
    reverseImg={true}
    class={animationsClasses.contentMedia.image2}
  >
    <Heading level='h2'>IA avanzada con visión humana</Heading>
    <p class='text-2xl'>
      Potenciamos tu empresa con <strong>automatización</strong> y <strong>apps inteligentes</strong>. Usamos la IA para
      acelerar el desarrollo, pero es nuestro criterio humano el que garantiza soluciones estratégicas y seguras.
    </p>
  </ContentMedia>

  <!-- Services -->
  <section class='my-64'>
    <div class='container'>
      <Heading
        level='h2'
        class='mb-8'
        >Nuestros servicios</Heading
      >
      <div class='grid grid-cols-1 gap-12 md:grid-cols-2 lg:grid-cols-3'>
        <Feature
          icon='lucide:layers'
          title='Plataformas a medida'
        >
          Creamos software diseñado exclusivamente para tu empresa, resolviendo esos problemas específicos que las
          herramientas genéricas no cubren.
        </Feature>
        <Feature
          icon='lucide:layout-dashboard'
          title='Paneles de control inteligentes'
        >
          Visualiza el estado de tu negocio en tiempo real con tableros sencillos que transforman datos en decisiones
          claras.
        </Feature>
        <Feature
          icon='lucide:shopping-cart'
          title='Tiendas online profesionales'
        >
          Creamos tu canal de ventas en internet, diseñado para ser fácil de gestionar y, sobre todo, para vender más.
        </Feature>
        <Feature
          icon='lucide:target'
          title='Páginas de venta (Landings)'
        >
          Diseñamos webs directas y persuasivas, enfocadas en un solo objetivo: que tus clientes te contacten o compren
          al instante.
        </Feature>
        <Feature
          icon='lucide:grid'
          title='Catálogos de productos'
        >
          Presenta tu oferta de forma elegante y organizada para que tus clientes encuentren lo que buscan sin
          complicaciones.
        </Feature>
        <Feature
          icon='lucide:search'
          title='Visibilidad en buscadores'
        >
          No solo creamos tu web; hacemos que aparezca en los primeros resultados para que tus clientes ideales te
          encuentren a ti.
        </Feature>
        <Feature
          icon='lucide:shield-check'
          title='Tranquilidad técnica'
        >
          Nos ocupamos de que tu web esté siempre activa, segura y rápida. Olvídate de los errores técnicos para
          siempre.
        </Feature>
        <Feature
          icon='lucide:zap'
          title='Automatización de tareas'
        >
          Hacemos que la tecnología trabaje por ti. Ahorra horas de trabajo manual delegando procesos repetitivos al
          software inteligente.
        </Feature>
        <Feature
          icon='lucide:lightbulb'
          title='Consultoría de mejora'
        >
          Analizamos lo que ya tienes para decirte cómo hacerlo más eficiente, moderno y ~~mucho más rentable~~.
        </Feature>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <FeaturedProjects />

  <!-- Posts -->
  <FeaturedPosts />

  <!-- Team -->
  <section
    id='team'
    class='my-64'
  >
    <div class='space-content container'>
      <Heading level='h2'>El cerebro detrás del código</Heading>
      <p class='text-2xl'>
        En <strong>Smooth Software Solutions</strong>, creemos que el software excepcional nace de la unión entre la
        <strong>precisión técnica</strong> y la <strong>visión estratégica</strong>. Somos un equipo de especialistas
        que utiliza la IA para potenciar procesos, pero confiamos siempre en nuestra experiencia humana para tomar las
        decisiones que realmente importan en tu negocio.
      </p>
      <AvatarGroup
        display='grid'
        gridItemsSize='300px'
        gridGap='2rem'
      >
        <Avatar
          initials='DD'
          title='Dari Developer'
          subtitle='Estratega Tecnológico & Lead Developer'
          img='/team/dari-developer-full-stack-team-leader-3s.webp'
        />
        <Avatar
          initials='NB'
          title='Niels Bored'
          subtitle='Arquitecto de IA & Ciencia de Datos'
          img='/team/niels-bored-data-scientist-ingeniero-ia-3s.webp'
        />
        <Avatar
          initials='SG'
          title='Sag Dev'
          subtitle='Especialista en Interfaces & Frontend'
          img='/team/sag-dev-desarrollador-frontend-smooth-software.webp'
        />
        <Avatar
          initials='SI'
          title='Silvia Eera'
          subtitle='Desarrolladora Full Stack & Soluciones Web'
          img='/team/silvia-eera-desarrolladora-full-stack-3s.webp'
        />
        <Avatar
          initials='RO'
          title='René Ojeda'
          subtitle='Estratega SEO & Copywriting Creativo'
          img='/team/rene-ojeda-experto-seo-copywriter-3s.webp'
        />
        <Avatar
          initials='VO'
          title='Victor Ojeda'
          subtitle='Consultor SEO & Especialista en Ads'
          img='/team/victor-ojeda-especialista-seo-ads-3s.webp'
        />
      </AvatarGroup>
    </div>
  </section>

  <!-- FAQ -->
  <section
    id='faq'
    class='my-64'
  >
    <div class='container grid grid-cols-1 gap-12 md:grid-cols-2'>
      <div class='flex flex-col items-start gap-4'>
        <Heading level='h2'>¿Tienes dudas? Nosotros tenemos las respuestas (FAQ)</Heading>
        <p class='text-2xl'>
          Sabemos que delegar el software de tu negocio es una decisión importante. Aquí resolvemos las preguntas más
          frecuentes sobre cómo trabajamos, <i>sin tecnicismos innecesarios</i>, para que tengas la seguridad de que tu
          proyecto está en las mejores manos.
        </p>
        <Link
          href={whatsappLink}
          isButton
          type='primary'
          animateOnHover
          animationType='boop'
          target='_blank'
        >
          <Icon
            aria-hidden='true'
            name='lucide:headset'
            size=' 1.5rem'
          />
          Hablar con un experto
        </Link>
      </div>
      <div class='space-content'>
        <Accordion>
          <AccordionItem
            name='exclusive'
            title='¿Cuánto tiempo tardará mi proyecto en estar listo?'
            open
          >
            <p>
              Cada solución es única, pero nos enfocamos en la <strong>agilidad</strong>. Una landing page puede estar
              lista en días, mientras que un software a medida depende de la complejidad. Lo que sí te garantizamos es
              un <strong>calendario claro</strong> desde el primer día: <i>odiamos los retrasos tanto como tú</i>.
            </p>
          </AccordionItem>

          <AccordionItem
            name='exclusive'
            title='¿Realmente necesito un software a medida o me sirve algo genérico?'
          >
            <p>
              Si tu negocio tiene procesos específicos que las herramientas actuales no resuelven bien, necesitas <strong
                >personalización</strong
              >. El software a medida de 3S no es un gasto, es una <strong>inversión</strong> que se paga sola al eliminar
              ineficiencias y permitirte escalar sin límites técnicos.
            </p>
          </AccordionItem>

          <AccordionItem
            name='exclusive'
            title='¿Cómo utilizan la Inteligencia Artificial en sus desarrollos?'
          >
            <p>
              La IA es nuestra gran aliada para <strong>acelerar procesos</strong> y reducir costes, pero nunca dejamos el
              código en sus manos sin supervisión. Usamos tecnología avanzada para automatizar lo repetitivo, mientras nuestro
              equipo aporta el <strong>criterio humano</strong> y la estrategia para que el resultado sea impecable.
            </p>
          </AccordionItem>

          <AccordionItem
            name='exclusive'
            title='¿Mi web estará optimizada para aparecer en Google?'
          >
            <p>
              Por supuesto. No solo escribimos código fluido, sino que integramos a nuestros <strong
                >expertos en SEO</strong
              > desde la fase de diseño. Tu web nace con la estructura técnica necesaria para ser <strong
                >visible</strong
              > y atraer clientes potenciales desde el primer momento.
            </p>
          </AccordionItem>

          <AccordionItem
            name='exclusive'
            title='¿Cómo se definen los precios de los proyectos?'
          >
            <p>
              No creemos en presupuestos genéricos. Analizamos <strong>tus necesidades específicas</strong> y el alcance de
              la solución para darte un precio justo. Trabajamos con presupuestos cerrados para que <i
                >no te lleves sorpresas desagradables</i
              > a mitad del desarrollo.
            </p>
          </AccordionItem>

          <AccordionItem
            name='exclusive'
            title='¿Ustedes se encargan del hosting y el dominio?'
          >
            <p>
              Podemos gestionar todo el despliegue por ti. Te asesoramos para elegir el <strong
                >hosting más rápido y seguro</strong
              > según tu tráfico esperado. Queremos que tu única preocupación sea ver cómo tu web <i
                >funciona a la perfección</i
              > desde el minuto uno.
            </p>
          </AccordionItem>

          <AccordionItem
            name='exclusive'
            title='¿Qué pasa si necesito cambios o mantenimiento después del lanzamiento?'
          >
            <p>
              No te dejamos solo tras la entrega. Ofrecemos planes de <strong>acompañamiento técnico</strong> para asegurar
              que tu software evolucione con tu negocio, esté siempre actualizado y sea <strong
                >totalmente seguro</strong
              > ante cualquier vulnerabilidad.
            </p>
          </AccordionItem>
        </Accordion>
      </div>
    </div>
  </section>
</DefaultLayout>

<style>
  .avatar {
    border: 1px solid var(--border-color-subtle);
    border-radius: var(--radius-md);
    padding: var(--space-s);
  }
</style>

<!-- Sent animations identifiers to the window object -->
<script is:inline define:vars={{ animationsClasses }}>
  window.animationsClasses = animationsClasses
</script>

<!-- Page animations -->
<script>
  import { gsap } from 'gsap'
  import { ScrollTrigger } from 'gsap/ScrollTrigger'

  gsap.registerPlugin(ScrollTrigger)

  const animationsClasses = (window as any).animationsClasses

  // ---- Hero ----

  // Zoom image when scroll down
  gsap.to(`.${animationsClasses.hero.image}`, {
    scale: 1.3,
    scrollTrigger: {
      trigger: `.${animationsClasses.hero.image}`,
      start: 'top 20%',
      end: 'bottom top',
      scrub: 2,
      markers: import.meta.env.MODE === 'development',
    },
  })

  // Reveal text "smooth" and "software" when scroll down
  gsap.to(`.${animationsClasses.hero.smooth}`, {
    opacity: 0,
    ease: 'power2.inOut',
    scrollTrigger: {
      trigger: `.${animationsClasses.hero.smooth}`,
      start: 'top 20%',
      end: 'bottom bottom',
      scrub: true,
      markers: import.meta.env.MODE === 'development',
    },
  })

  gsap.to(`.${animationsClasses.hero.software}`, {
    opacity: 1,
    ease: 'power2.inOut',
    scrollTrigger: {
      trigger: `.${animationsClasses.hero.software}`,
      start: 'top 20%',
      end: 'bottom bottom',
      scrub: true,
      markers: import.meta.env.MODE === 'development',
    },
  })

  // ---- Content Media ----

  // Zoom image when scroll down
  const contentMediaClasses = [animationsClasses.contentMedia.image1, animationsClasses.contentMedia.image2]
  contentMediaClasses.forEach((className) => {
    gsap.to(`.${className} .img-wrapper`, {
      scale: 1.3,
      scrollTrigger: {
        trigger: `.${className} .img-wrapper`,
        start: 'top center',
        end: 'bottom center',
        scrub: 2,
        markers: import.meta.env.MODE === 'development',
      },
    })
  })
</script>
