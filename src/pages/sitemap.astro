---
import DefaultLayout from '@layouts/DefaultLayout.astro'
import PageHeader from '@components/PageHeader.astro'
import { Heading, Notification } from 'accessible-astro-components'
import { getCollection } from 'astro:content'

// Get all portafolio projects
const projects = await getCollection('projects')

// Define static pages with their descriptions
const staticPages = [
  {
    title: 'Inicio',
    url: '/',
    description:
      'Bienvenido a nuestro sitio web accesible con desarrollo web moderno y principios de diseño inclusivo.',
  },
  {
    title: 'Portafolio',
    url: '/portafolio',
    description: 'Una colección de proyectos que demuestran prácticas de diseño y desarrollo accesibles.',
  },
  {
    title: 'Blog',
    url: '/blog',
    description: 'Artículos e ideas sobre accesibilidad web, mejores prácticas de desarrollo y diseño inclusivo.',
  },
  {
    title: 'Contacto',
    url: '/contacto',
    description:
      'Ponte en contacto con nosotros para consultoría en accesibilidad, servicios de desarrollo u oportunidades de colaboración.',
  },
  {
    title: 'Aviso Legal',
    url: '/aviso-legal',
    description: 'Términos y condiciones de uso del sitio web y servicios de Smooth Software Solutions.',
  },
  {
    title: 'Política de Privacidad',
    url: '/politica-privacidad',
    description: 'Información sobre cómo recopilamos, utilizamos y protegemos tus datos personales.',
  },
  {
    title: 'Configuración de Cookies',
    url: '/configuracion-cookies',
    description: 'Información sobre el uso de cookies en nuestro sitio web y cómo gestionarlas.',
  },
  {
    title: 'Gracias',
    url: '/thank-you',
    description: 'Página de confirmación para envíos de formularios exitosos e interacciones del usuario.',
  },
]
---

<DefaultLayout
  title='Mapa del Sitio'
  description='Mapa completo del sitio que muestra todas las páginas, proyectos del portafolio y secciones disponibles en nuestro sitio web accesible.'
>
  <PageHeader
    title='Mapa del Sitio'
    subtitle='Una visión general completa de todas las páginas y el contenido disponible en nuestro sitio web, organizado para una navegación sencilla.'
    bgType='gradient'
  />

  <section class='my-16'>
    <div class='container space-y-12'>
      <!-- Main Pages Section -->
      <div>
        <Heading
          level='h2'
          class='mb-6'
          >Páginas principales</Heading
        >
        <div class='grid gap-6 md:grid-cols-2 lg:grid-cols-3'>
          {
            staticPages.map((page) => (
              <article>
                <Heading
                  level='h3'
                  size='h6'
                  class='mb-3'
                >
                  <a href={page.url}>{page.title}</a>
                </Heading>
                <p class='mb-3'>{page.description}</p>
                <p class='text-xs'>
                  URL:{' '}
                  <code class='rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500'>
                    {page.url}
                  </code>
                </p>
              </article>
            ))
          }
        </div>
      </div>

      <!-- Portafolio Projects Section -->
      <div>
        <Heading
          level='h2'
          class='mb-6'
          >Proyectos del portafolio</Heading
        >
        <p class='mb-6'>
          Explora nuestra colección de {projects.length} proyectos centrados en la accesibilidad que muestran prácticas de
          diseño y desarrollo inclusivas.
        </p>
        <div class='grid gap-6 md:grid-cols-2 lg:grid-cols-3'>
          {
            projects.map((project) => (
              <article>
                <Heading
                  level='h3'
                  size='h6'
                  class='mb-3'
                >
                  <a href={`/portafolio/${project.id}`}>{project.data.title}</a>
                </Heading>
                <p class='mb-3'>{project.data.description}</p>
                <div class='text-xs'>
                  <p class='mb-1'>
                    Por: <span class='font-medium'>{project.data.author}</span>
                  </p>
                  <p>
                    URL:{' '}
                    <code class='rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500'>
                      /portafolio/{project.id}
                    </code>
                  </p>
                </div>
              </article>
            ))
          }
        </div>
      </div>

      <!-- Blog Section -->
      <div>
        <Heading
          level='h2'
          class='mb-6'
          >Blog</Heading
        >
        <article>
          <Heading
            level='h3'
            size='h6'
            class='mb-3'
          >
            <a href='/blog'>Artículos del blog</a>
          </Heading>
          <p>
            Descubre artículos sobre accesibilidad web, mejores prácticas de desarrollo y diseño inclusivo. Nuestro blog
            presenta contenido dinámico con paginación para una navegación sencilla.
          </p>
          <div class='text-xs'>
            <p>Características: Contenido dinámico desde la API de JSONPlaceholder</p>
            <p>
              URL base: <code
                class='rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500'
                >/blog</code
              >
            </p>
            <p>
              Artículos individuales: <code
                class='rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500'
                >/blog/[titulo-del-artículo]</code
              >
            </p>
          </div>
        </article>
      </div>
    </div>
  </section>
</DefaultLayout>

<style>
  article {
    border: 1px solid var(--border-color-subtle);
    border-radius: var(--radius-large);
    background-color: var(--background-color);
    padding: 1rem;
  }
</style>
